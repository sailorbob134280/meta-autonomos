# AutonomOS System-wide ZSH Configuration
#
# This file is sourced by zsh for all users. It configures oh-my-zsh
# with sensible defaults for embedded systems.
#
# Users can override settings by creating ~/.zshrc with custom values
# before this file is sourced, or by creating ~/.zshrc.local for
# settings to apply after this file.

# Path to oh-my-zsh installation (system-wide)
export ZSH=/etc/oh-my-zsh

# Theme - robbyrussell is the default, clean and fast
ZSH_THEME="${ZSH_THEME:-robbyrussell}"

# Disable automatic updates (not applicable for system install)
DISABLE_AUTO_UPDATE="true"

# Plugins
# Note: zsh-autosuggestions and zsh-syntax-highlighting are installed
# as separate packages to /etc/oh-my-zsh/custom/plugins/
plugins=(
    zsh-autosuggestions
    zsh-syntax-highlighting
)

# Load oh-my-zsh
source $ZSH/oh-my-zsh.sh

# Keybindings
# Alt+L or Esc+L to accept autosuggestion
bindkey '^[l' autosuggest-accept

# History settings for embedded systems (smaller history)
HISTSIZE=1000
SAVEHIST=1000
HISTFILE=~/.zsh_history

# Source user's local customizations if they exist
if [[ -f ~/.zshrc ]]; then
    source ~/.zshrc
fi

# Convenience aliases
alias ll='ls -alh'
alias switch-part="rauc status mark-active other && reboot"
